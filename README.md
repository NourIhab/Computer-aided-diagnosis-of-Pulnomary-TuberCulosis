# Computer-aided-diagnosis-of-Pulnomary-TuberCulosis
System for detecting tuberculosis using machine learning and image processing techniques.
It is implemented with python programming language. We used PyCharm IDE for python as well as, we worked on Keras as a platform and TensorFlow as a backend engine for Keras. Moreover, we used “C# to build GUI as it is more powerful than python as it can use the whole .NET runtime libraries as you would have a big number of practical functionalities in your hand and we implemented C# on visual studio IDE.
We used Shenzhen dataset and this is the link of the dataset: https://ceb.nlm.nih.gov/repositories/tuberculosis-chest-x-ray-image-data-sets/

First we applied CNN on our data directly without even augmenation on four layers and it got an accuracy 45%. so, we increased the number of layers to seven layers and two fully connected and the accuracy increased to 86.5%.
Then, we emplyed pre-processing on our data to inhance the data and although we did augmenation on the data to try to get better results before inputting it in the network but unfortunately, the model got an accuracy 74.6%.
At the end ,we employed only deep convolutional neural network by building the network of the CNN with seven layers and two fully connected and did augmenation on the data and the model got an accuracy 89.5%. Therefore, this is the best model that we could get.
Then, we tried to employ our data on trainanable networks to see if we could get better accuracy or not so we used Resnet and VGG16,19 but
unfortunately, they got an accuracy less as VGG16,19 got an accuracy 88% and Resnet got an accuracy 45%.

Installation guide:
The user should install PyCharm or any other IDE for running python, then install python 3.6 version and create a virtual environment to run the system on. The user should also install some libraries to be able to run the code which are Numpy 1.16.2, OpenCV 3.4.1, Pandas 0.24.2, Scikit-learn 0.20.3, Keras 2.2.4, TensorFlow 1.10.0 and matplotlib 3.1.0. Moreover, for the user to be able to run the GUI he should install visual studio 2013 version.

User guide:
For the user to run the system, he should run the datapreprationmain.py first to be able to get the pickle file in a python virtual environment. Then, run the main.py file to test the data. So, the user will be able to get the testing results of the whole data. If the user wants to train the data he will open the train.py file and chnage trainning into true an run the file. Although, if the user wants to run any experiment he will run the experiment only which is TestingFirstModel.py  for the four layers network, TestingSecondModel.py for the seven layers, main.py for pre-proccessing and TransferlearningTesting.py. If the user wants to run the GUI he will run the GUI file from C# by opening “debug/bin/GUI.exe” but before running it the user must update his python environment directory in “debug/bin/env.txt” and will choose the CXR image by clicking on the browse button and choosing the image he wants to do testing on, then click the test image button to classify the image and the result will appear in the box of pulmonary tuberculosis result as normal or abnormal.
